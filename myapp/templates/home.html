<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>欢迎光临</title>
</head>
<style>
* {
	border: 0;
	margin: 0;
	padding: 0;
}
ul{
	list-style: none;
}

.header{
  position: fixed;
  background-color: #45b97c;
  left: 0;
  right: 0;
  top: 0;
  z-index: 9999;
}
.navbar{
	list-style: none;
	margin-left: 30px;
}
.header ul:nth-child(2) {
	list-style: none;
	float: right;
}
.header li{
	float: left;
	padding: 4px 20px;
}
.header li a{
	  color: white;
	 text-decoration: none;
}


.container{
	width: 100%;
	overflow:hidden
	
}

.container-left{
	
	margin-top: 100px;
	float: left;
	width: 30%;
	border-right: 2px solid #dddddd;
	min-height: 500px;
}
.container-left a{
	display: block;
	 color: #444444;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	 text-decoration: none;
	 padding-left: 5%;
	 padding-top: 2%;
}

.displayList{
               margin-top: 100px;
	position: fixed;
	display: block;
	width: 50%;
	border-right: 2px solid #dddddd;
	min-height: 500px;
                  top: 2%;
	height :100%;
	background-color: grey;
	z-index :9999
}
.displayList a{
	display: block;
	 color: white;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	 text-decoration: none;
	 padding-left: 5%;
	 padding-top: 2%;
}

.container-right{
	
	margin-top: 100px;
	margin-left: 30px;
	float: left;
	width: 50%;

}
#main-topic{
	height: 80px;
	border-bottom: 2px solid #dddddd;
}
#main-content{
	 color: #444444;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	padding-bottom: 40px;
}

.footer{
	 background-color: #45b97c;
	 margin-top: 3%;
	 width: 100%;
	height: 70px;
	 left: 0;
	 right: 0;
	 z-index: 9999;
}

#comment{
	padding-top: 18px;
	font-size: 12px;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	color: #666;
	border-top: 2px solid #dddddd;
	
}
#comment span{
	font-size: 20px;
}
#comment-form{
	font-size: 18px;
	font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	color: #666;
	margin-left: 20px;
	margin-top: 80px;
	
}
#comment-form textarea{
	border-left: 1px solid #dddddd;
	border-right: 1px solid #dddddd;
	border-bottom: 1px solid #dddddd;
	border-top: 1px solid #dddddd;
}
.comment-item{
	border-bottom: 1px solid #dddddd;
	padding-top: 10px;
	padding-bottom: 10px;
	margin-left: 20px;
}



@media screen and (max-width: 486px) {
	.container-left{
		display: none;
		}
		.container-right{
			padding-left: 30px;
			float: left;
			width: 100%;
		}
#main-content{
	font-size: 14px;
	width: 80%;
} 
   #left-list-click{
     position: fixed;
     width: 40px;
     height: 80px;
    background-color: #45b97c;
     top: 40%;
       z-index: 9999;
}
#arrow-right {
    width:0; 
    height:0; 
    margin-top: 20px;
    margin-left: 10px;
    border-top:20px solid transparent;
    border-bottom: 20px solid transparent;
    border-left: 20px solid white;
  }
}

#maskLayer { 
background-color:black; 
width: 100%; 

left: 0; 
top: 0; 
filter: alpha(opacity=60); 
opacity: 0.5; 
z-index: 1; 
position: absolute; 

} 
</style>
<body>
<div class="header">
	<ul class="navbar">
	<li><a href="#">JavaScript</a></li>
	<li><a href="#">CSS</a></li>
	<li><a href="#">Python</a></li>
	<li><a href="#">NodeJS</a></li>
	</ul>

	<ul >
	 <li>
	     <ul>
	          <li><a href="#">My GitHub</a></li>
	          <li><a href="#">My Demo</a></li>
	         <li><a href="#">My Resume</a></li>
	           <li><a href="/login">Welcome {{username}} !</a></li>

	       </ul>
	 </li>
	</ul>
</div>

<div class="container">
          <div id="left-list-click"> 
                     <div id="arrow-right">
                     </div>
                </div>
         <div class="container-left">
                        {% for post in posts %}
                       <a href={{ post.url }}>{{ post.title }}</a>
                       {% endfor%}
         </div>

         <div class="container-right">

                    <div  id="main-topic">
                                   <h2>{{ post.title }}</h2>
                                   <p>{{ post.timestamp }}</p>
                    </div>
                    <div id="main-content">
                    {% autoescape off %}
                                  {{ post.body }}
                     {% endautoescape %}
                    </div>
                    <div  id="comment">
                    <h1>Comments</h1>
                      {% for comment in comments %}
                      <div class="comment-item">
                      <p><span>{{ comment.username }}</span> reply at {{comment.time}}</p>
                      <p>{{comment.body}}</p>
                      </div>
                      {% endfor%}
                        </div>

                    {% if  not username%}
                    <p><span><a href="/login">登录</a></span>后方能留言</p>
                    {% else%}
                    <form method="post" id="comment-form">
			<p>Your Name:{{ username}}</p>
			<textarea name="content" rows="5" cols="30"></textarea><br />
			<input type="submit" value="留言" />
	     </form>
                    {% endif %}
                    </div>
         </div>
</div>

<div class="footer">               
</div>

<div id="maskLayer"  style="display: none;"> 
</div>

</body>
<script>
var leftListClick = document.getElementById('left-list-click');
var list = document.getElementsByClassName('container-left')[0];
var containerRight = document.getElementsByClassName('container-right')[0]
var maskLayer=document.getElementById('maskLayer');
function displayMask(argument) {
	list.setAttribute('class','displayList'); 
	leftListClick.style.marginLeft = list.offsetWidth + "px"
	document.getElementById('maskLayer').style.display = 'block';
	document.getElementById('maskLayer').style.height = document.body.offsetHeight + "px";
}
function hiddenMask (argument) {
	list.setAttribute('class','container-left');
	document.getElementById('maskLayer').style.display = 'none';
	leftListClick.style.marginLeft = 0+ "px"
}
window.onload = function() {
	leftListClick.addEventListener('touchstart', displayMask, false);
	leftListClick.addEventListener('click', displayMask, false);
	maskLayer.addEventListener('click',hiddenMask,false);
	maskLayer.addEventListener('touchstart',hiddenMask,false)
}
window.onresize=function  (argument) {
	if (document.body.offsetWidth>486&&list.className=="displayList") {
		hiddenMask();
	}
}
</script>
</html>